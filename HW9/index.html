<html lang="en">
<head>
<link rel="stylesheet" href="main.css">
<meta charset="utf-8">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
</head>

<body>

    <a href="#" class="square-button" style="margin:200 auto" onClick="getAdvice()">
      <span>Generate Advice</span>
    </a>

  <div class="advice"></div>

</body>
</html>


<script language = "javascript">
 function getAdvice() {
 	var url = "https://api.adviceslip.com/advice";

 	// Generate a random color to change the box outline
 	var color = Math.floor(Math.random()*16777215).toString(16);

	var elements = document.getElementsByClassName('square-button');
	for(var i = 0; i < elements.length; i++){
		elements[i].style.backgroundColor = color;
	}

	var elements = document.getElementsByClassName('advice');
	for(var i = 0; i < elements.length; i++){
		elements[i].style.outlineColor = color;
	}

	var elements = document.getElementsByClassName('square-button');
	for(var i = 0; i < elements.length; i++){
		elements[i].style.outlineColor = color;
	}

 	$.ajax(url,{success: function(data){
 		console.log(data);
 		var jsonData = JSON.parse(data);   
		console.log(jsonData.slip.advice)
 		$(".advice").text(jsonData.slip.advice);
 	}, error: function(error){
 		$(".error-message").text("An error occured");
 	}})
}
</script>
