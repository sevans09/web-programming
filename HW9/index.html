<html lang="en">
<head>
<link rel="stylesheet" href="main.css">
<meta charset="utf-8">
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
</head>

<body>
    <a href="#" class="square-button" style="margin:200 auto" onClick="getAdvice()">
      <span>Generate Advice</span>
    </a>
  	<div class="advice"></div>

  	<div class="infobox">
		I selected the Advice Slip API, which generates random funny, quirky, and encouraging advice.
		I found it at <a href="https://api.adviceslip.com/">this link.</a>
		I used the GET method to get the data as a JSON object through the open URL provided by the API.
		This API could be useful on websites promoting mental health as a fun page for people to check out, 
		or on a "fortune cookie" type application that generates advice for the user daily.
 	 </div>


</body>
</html>


<script language = "javascript">
 function getAdvice() {
 	var url = "https://api.adviceslip.com/advice";

 	// Generate a random color to change the box outline
 	var color = Math.floor(Math.random()*16777215).toString(16);

	var elements = document.getElementsByClassName('square-button');
	for(var i = 0; i < elements.length; i++){
		elements[i].style.backgroundColor = color;
	}

	// Change each element's style to the random coloring.
	var elements = document.getElementsByClassName('advice');
	for(var i = 0; i < elements.length; i++){
		elements[i].style.outlineColor = color;
	}

	var elements = document.getElementsByClassName('square-button');
	for(var i = 0; i < elements.length; i++){
		elements[i].style.outlineColor = color;
	}

	// Used GET request from the URL, and parsed the JSON object 
	// to grab the advice generated. 
 	$.ajax(url,{success: function(data){
 		var jsonData = JSON.parse(data);   
 		$(".advice").text(jsonData.slip.advice);
 	}, error: function(error){
 		$(".error-message").text("An error occured");
 	}})
}
</script>
